# 下载进度可以传给窗体，大华用回调，海康用多线程重复主动查。一秒不到，在这里不用实现
# 取一帧有两种方式
# 1. playsdk解码，速度快，工具本身和输出体积都很小
#    # 我认为自解码依旧是异步的，想要精准控制只截取第一帧也是不可能的。
#    # fileWatchDog，有新文件就开一次，这个程序可以打包为一个dll，但返回值怎么办？
#         # 监控归监控，执行转换的步骤是同步的，不用dll，就内部多线程就够了，返回值的问题解决。
# 2. 依旧是ffmpeg

# 主进程开两个线程，分别是大华和海康的视频转图片
# 这个playctrl估计不好搞
# 然后是进程池，开八个

# TODO syncFindFileByTime(userID, findArg)        # 这个查询最高居然可达780ms，过分。上层还是用两套代码吧，海康的查询能做异步的，那就让他异步。不然代价太高了
# 还有状态显示，查询的状态更新，下载的状态更新，关闭下载的状态，都要发出来。我预留的有位置，改造还算方便。完成海康后，到合并窗体时再进行这一步

# TODO 那个下载的接口应该是可以多线程的，就是不知道dvr能不能扛得住（支持多线程？那是必然的。）


# 海康多线程
#    # 两个小线程，一个用来关查询，一个用来关下载
#    # 异步查询，异步下载
#    # 异步查询，异步下载

# 大华多线程
#    # 一个小线程，用来关下载
#    # 同步查询，异步下载
#    # 同步查询，异步下载


# 大华的playsdk能解海康的视频
# 海康解不开大华的视频，说sys not support

# TODO NET_DVR_SET_TRANS_TYPE参数，一个 4 字节整型的转码类型：1-PS, 2-TS，3-RTP，5-MP4
# 大华有个这样的接口，能设置转码类型，是不是改一改，海康就能解大华的视频了


我现在这个单例会影响到我的类方法功能运行，需要换一种单例实现方式